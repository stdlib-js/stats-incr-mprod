// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-nan@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-infinite@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-frexp@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-ldexp@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@esm/index.mjs";var m=e.isPrimitive,d=s,f=t,p=r,l=i,o=n,j=a;function c(e,s,t){return p(e,t),s.frac*=e[0],s.exp+=e[1],s.frac>-.5&&s.frac<.5&&(p(e,s.frac),s.frac=e[0],s.exp+=e[1]),l(s.frac,s.exp)}var h=function(e){var s,t,r,i,n,a;if(!m(e))throw new TypeError(j("invalid argument. Must provide a positive integer. Value: `%s`.",e));return r=new o(e),a=-1,n=0,s=[0,0],t=1,(i={}).frac=.5,i.exp=1,function(m){var p,l;if(0===arguments.length)return 0===n?null:t;if(a=(a+1)%e,d(m))n=e,t=NaN;else if(n<e)n+=1,t=c(s,i,m);else if(0===r[a]||d(r[a])||f(r[a])){for(n=1,i.frac=.5,i.exp=1,c(s,i,m),p=0;p<e;p++)if(p!==a){if(l=r[p],d(l)){n=e,t=NaN;break}n+=1,t=c(s,i,l)}}else!1===d(t)&&(l=m/r[a],t=c(s,i,l));return r[a]=m,t}};export{h as default};
//# sourceMappingURL=index.mjs.map
