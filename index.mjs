// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-nan@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-infinite@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-frexp@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-ldexp@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/array-float64@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@esm/index.mjs";var a=e.isPrimitive,d=s,f=r,o=t,p=i,l=n,j=m;function c(e,s,r){return o(e,r),s.frac*=e[0],s.exp+=e[1],s.frac>-.5&&s.frac<.5&&(o(e,s.frac),s.frac=e[0],s.exp+=e[1]),p(s.frac,s.exp)}var h=function(e){var s,r,t,i,n,m;if(!a(e))throw new TypeError(j("0eN8T",e));return t=new l(e),m=-1,n=0,s=[0,0],r=1,(i={}).frac=.5,i.exp=1,function(a){var o,p;if(0===arguments.length)return 0===n?null:r;if(m=(m+1)%e,d(a))n=e,r=NaN;else if(n<e)n+=1,r=c(s,i,a);else if(0===t[m]||d(t[m])||f(t[m])){for(n=1,i.frac=.5,i.exp=1,c(s,i,a),o=0;o<e;o++)if(o!==m){if(p=t[o],d(p)){n=e,r=NaN;break}n+=1,r=c(s,i,p)}}else!1===d(r)&&(p=a/t[m],r=c(s,i,p));return t[m]=a,r}};export{h as default};
//# sourceMappingURL=index.mjs.map
